[gd_scene format=3 uid="uid://b43uut8xoh5ja"]

[ext_resource type="PackedScene" path="res://scenes/tile_map_level2.tscn" id="1_0s5p3"]
[ext_resource type="Script" uid="uid://d0o85st6if47l" path="res://scenes/fase_4.gd" id="1_1j7u1"]
[ext_resource type="Texture2D" uid="uid://dhm71hiieb7wa" path="res://Sprites/TilesetFloor-Sheet.png" id="2_1j7u1"]
[ext_resource type="PackedScene" uid="uid://rv3d81p2qonj" path="res://scenes/goal.tscn" id="3_ot5ji"]
[ext_resource type="PackedScene" uid="uid://bmcw0ya4fudbh" path="res://scenes/player.tscn" id="4_kqp8b"]
[ext_resource type="Script" uid="uid://c70dm8iaf6c51" path="res://script/crowd_system.gd" id="5_efuq3"]
[ext_resource type="PackedScene" uid="uid://c7tbdhdw6o63n" path="res://scenes/crowd_agent.tscn" id="6_ik88e"]
[ext_resource type="Script" uid="uid://gq3w65tcvab4" path="res://script/crowd_field.gd" id="7_p78is"]
[ext_resource type="AudioStream" uid="uid://eje8s7n7368y" path="res://sounds/crowd_angry.mp3" id="8_dtlty"]
[ext_resource type="PackedScene" uid="uid://cuqhye63o2nok" path="res://scenes/ui_main.tscn" id="9_xqiha"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ot5ji"]
texture = ExtResource("2_1j7u1")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
5:0/0 = 0
6:0/0 = 0
7:0/0 = 0
8:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
7:1/0 = 0
8:1/0 = 0
9:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, 9.140421, 16, 16, -16, 16, -16, 8.792215)
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
7:2/0 = 0
8:2/0 = 0
8:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-0.0870533, -10.010937, 6.7319565, -8.206107, 8.444006, -3.3950138, 8.40266, 3.3905478, 2.8727036, 7.57349, -3.7432213, 7.051182, -8.618111, 3.0468063, -8.966318, -4.091427, -5.484253, -8.269905)
9:2/0 = 0
9:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-9.14042, -3.395012, -4.9619427, -8.966316, 4.091427, -9.14042, 7.747595, -6.0065613, 8.618111, 1.1316719, 4.78784, 7.051182, -3.220909, 7.747595, -7.2252846, 4.9619427)
0:3/0 = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-9.4886265, 16, -16, 16, -16, -16, -9.140421, -16)
1:3/0 = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, -16, -8.966318, 16, -9.4886265, 16, -16)
2:3/0 = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(8.966316, -16, 16, -16, 16, 16, 8.618111, 16)
3:3/0 = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, 8.792215, 16, 16, -16, 16, -16, 8.966318)
4:3/0 = 0
4:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-9.090598, 8.992321, -9.188875, 16, -16, 16, -16, 8.992321)
5:3/0 = 0
5:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8.894045, -8.992323, -8.894045, -16, -16, -16, -16, -8.992323)
6:3/0 = 0
6:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(8.795768, -8.992321, 16, -9.090599, 16, -16, 8.992321, -16)
7:3/0 = 0
7:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(8.894045, 9.090598, 16, 9.090599, 16, 16, 8.795768, 16)
8:3/0 = 0
8:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-11.751969, -6.0065613, -8.618111, -10.707349, -0.60936165, -12.622485, 8.444008, -10.533246, 11.751968, -5.484251, 11.577866, 6.5288715, 10.359142, 13.667107, -10.881453, 14.015312, -11.577866, 6.5288715)
9:3/0 = 0
0:4/0 = 0
1:4/0 = 0
2:4/0 = 0
3:4/0 = 0
4:4/0 = 0
5:4/0 = 0
6:4/0 = 0
7:4/0 = 0
8:4/0 = 0
9:4/0 = 0
0:5/0 = 0
0:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, -6.354768, -10.881453, 8.618111, -12.970692, 16, 16, 16)
1:5/0 = 0
1:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, -11.751968, -16, -5.484251, -16, 16, 16, 16)
2:5/0 = 0
2:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -11.577866, 16, -13.493001, 16, 16, -16, 16)
3:5/0 = 0
3:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -13.144794, 16, -11.403762, 16, 16, -16, 16)
4:5/0 = 0
4:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -12.183165, 16, -7.248211, 16, 16, -16, 16)
5:5/0 = 0
5:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -5.7060394, 9.09882, 6.9397774, 13.108467, 16, -16, 16)
6:5/0 = 0
7:5/0 = 0
8:5/0 = 0
9:5/0 = 0
0:6/0 = 0
0:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, 4.9619427, 16, -16, -13.144794, -16, -7.2252846, -6.180664)
1:6/0 = 0
1:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, 4.4723015, 16, 11.874729, 16, -16, -16, -16)
2:6/0 = 0
2:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, -16, -16, -16, -16, 10.640991, 16, 12.4916)
3:6/0 = 0
3:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, 10.881454, -16, 12.796589, -16, -16, 16, -16)
4:6/0 = 0
4:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(16, -16, 16, 4.78784, -16, 10.533245, -16, -16)
5:6/0 = 0
5:6/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, 4.78784, 9.140421, -7.747593, 13.667105, -16, -16, -16)

[sub_resource type="TileSet" id="TileSet_kqp8b"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_ot5ji")

[node name="Fase1" type="Node2D" unique_id=243203336]
script = ExtResource("1_1j7u1")

[node name="ColorRect" type="ColorRect" parent="." unique_id=746323631]
offset_left = -1470.0
offset_top = -1316.0
offset_right = 1776.0
offset_bottom = 1156.0
color = Color(0.05, 0.05, 0.05, 1)

[node name="TileMap" parent="." unique_id=134455007 instance=ExtResource("1_0s5p3")]
position = Vector2(0, 433)
tile_set = SubResource("TileSet_kqp8b")

[node name="Goal" parent="." unique_id=1349631564 node_paths=PackedStringArray("player") instance=ExtResource("3_ot5ji")]
position = Vector2(1, 652)
scale = Vector2(1.01, 1.01)
player = NodePath("../player")

[node name="player" parent="." unique_id=727039025 instance=ExtResource("4_kqp8b")]
position = Vector2(2.3841858e-07, 322)
scale = Vector2(2.5, 2.5)

[node name="CrowdSystem" type="Node2D" parent="." unique_id=1276707618]
script = ExtResource("5_efuq3")
agent_scene = ExtResource("6_ik88e")
neighbor_radius = 100.0
dissipate_radius = 100.0
initial_agent_count = 15

[node name="CrowdField" type="Node2D" parent="CrowdSystem" unique_id=1808511839]
script = ExtResource("7_p78is")

[node name="SomMultidao" type="AudioStreamPlayer2D" parent="CrowdSystem" unique_id=746126678]
stream = ExtResource("8_dtlty")
volume_db = -4.875

[node name="SomMultidao2" type="AudioStreamPlayer2D" parent="CrowdSystem" unique_id=1134856665]
stream = ExtResource("8_dtlty")
volume_db = -4.875

[node name="SpawnArea" type="Polygon2D" parent="CrowdSystem" unique_id=1189594054]
color = Color(1, 1, 1, 0)
polygon = PackedVector2Array(-100, 370, -133, 384, -144, 420, -140, 462, -41, 514, 67, 502, 124, 480, 169, 452, 158, 405, 154, 372, 175, 354, 197, 336, 226, 273, 253, 278, 277, 352, 298, 471, 248, 555, 160, 541, 67, 559, -15, 554, -175, 556, -211, 493, -276, 439, -244, 366, -184, 291, -86, 306)

[node name="ui_main" parent="." unique_id=1427192611 instance=ExtResource("9_xqiha")]
